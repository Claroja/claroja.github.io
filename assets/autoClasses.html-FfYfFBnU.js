import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o as p,c,a as s,b as n,d as e,e as o}from"./app-A10JnHE0.js";const i={},l=o(`<h1 id="autoclasses" tabindex="-1"><a class="header-anchor" href="#autoclasses" aria-hidden="true">#</a> autoClasses</h1><h2 id="åˆå§‹åŒ–æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–æ¨¡å‹" aria-hidden="true">#</a> åˆå§‹åŒ–æ¨¡å‹</h2><p><code>from_retrained()</code>æ–¹æ³•é€šè¿‡pretrained modelçš„nameå’Œpathæ¥åŠ è½½æ¨¡å‹</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>model <span class="token operator">=</span> AutoModel<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&quot;bert-base-cased&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),d={href:"https://huggingface.co/docs/transformers/v4.20.1/en/model_doc/bert#transformers.BertModel",target:"_blank",rel:"noopener noreferrer"},u={href:"https://huggingface.co/docs/transformers/v4.20.1/en/model_doc/bert#transformers.BertConfig",target:"_blank",rel:"noopener noreferrer"},m=s("code",null,"torch.nn.Module",-1),k=s("code",null,"pytorch",-1),h={href:"https://huggingface.co/docs/transformers/v4.20.1/en/model_doc/bert#transformers.BertModel",target:"_blank",rel:"noopener noreferrer"},f=o(`<ol><li>åŠ è½½æ¨¡å‹é…ç½®</li></ol><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> transformers <span class="token keyword">import</span> AutoConfig
config <span class="token operator">=</span> AutoConfig<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&quot;bert-base-uncased&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åŠ è½½model</li></ol><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> transformers <span class="token keyword">import</span> AutoConfig<span class="token punctuation">,</span> AutoModel
config <span class="token operator">=</span> AutoConfig<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&quot;bert-base-uncased&quot;</span><span class="token punctuation">)</span>
model <span class="token operator">=</span> AutoModel<span class="token punctuation">.</span>from_config<span class="token punctuation">(</span>config<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆå§‹åŒ–-tokenizer" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–-tokenizer" aria-hidden="true">#</a> åˆå§‹åŒ– Tokenizer</h2>`,5),v={href:"https://huggingface.co/docs/transformers/v4.20.1/en/model_doc/bert#transformers.BertTokenizer",target:"_blank",rel:"noopener noreferrer"},_=o(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> transformers <span class="token keyword">import</span> AutoTokenizer
tokenizer <span class="token operator">=</span> AutoTokenizer<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&quot;bert-base-uncased&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¾“å‡ºç»“æœ" tabindex="-1"><a class="header-anchor" href="#è¾“å‡ºç»“æœ" aria-hidden="true">#</a> è¾“å‡ºç»“æœ</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> transformers <span class="token keyword">import</span> AutoModelForSequenceClassification
pt_batch <span class="token operator">=</span> tokenizer<span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token string">&quot;We are very happy to show you the ğŸ¤— Transformers library.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;We hope you don&#39;t hate it.&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    padding<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    truncation<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    max_length<span class="token operator">=</span><span class="token number">512</span><span class="token punctuation">,</span>
    return_tensors<span class="token operator">=</span><span class="token string">&quot;pt&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
model_name <span class="token operator">=</span> <span class="token string">&quot;nlptown/bert-base-multilingual-uncased-sentiment&quot;</span>
pt_model <span class="token operator">=</span> AutoModelForSequenceClassification<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span>model_name<span class="token punctuation">)</span>
pt_outputs <span class="token operator">=</span> pt_model<span class="token punctuation">(</span><span class="token operator">**</span>pt_batch<span class="token punctuation">)</span>
<span class="token keyword">from</span> torch <span class="token keyword">import</span> nn
pt_predictions <span class="token operator">=</span> nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>softmax<span class="token punctuation">(</span>pt_outputs<span class="token punctuation">.</span>logits<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pt_predictions<span class="token punctuation">)</span>
<span class="token comment">## tensor([[0.0021, 0.0018, 0.0115, 0.2121, 0.7725],</span>
<span class="token comment">##         [0.2084, 0.1826, 0.1969, 0.1755, 0.2365]], grad_fn=&lt;SoftmaxBackward0&gt;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="automodelforsequenceclassification-vs-automodel" tabindex="-1"><a class="header-anchor" href="#automodelforsequenceclassification-vs-automodel" aria-hidden="true">#</a> automodelforsequenceclassification-vs-automodel</h2>`,4),b=s("code",null,"AutoTokenizer",-1),g=s("code",null,"AutoModelFor",-1),y=s("code",null,"AutoModel",-1),q={href:"https://huggingface.co/docs/transformers/autoclass_tutorial#automodel",target:"_blank",rel:"noopener noreferrer"},x=s("p",null,"https://stackoverflow.com/questions/69907682/what-are-differences-between-automodelforsequenceclassification-vs-automodel",-1),w=s("p",null,"å‚è€ƒ: https://huggingface.co/docs/transformers/v4.20.1/en/model_doc/bert https://huggingface.co/docs/transformers/model_doc/auto",-1);function A(z,B){const a=r("ExternalLinkIcon");return p(),c("div",null,[l,s("p",null,[n("ä»¥ä¸Šä»£ç åŠ è½½äº†"),s("a",d,[n("BertModel"),e(a)]),n(", ä¸»è¦åŒ…å«äº†")]),s("p",null,[n("BertConfig: å­˜å‚¨äº†bertæ¨¡å‹çš„é…ç½®.æ¯”å¦‚: vocab_size(è¯­æ–™åº“çš„å¤§å°, å†³å®šäº†inputs_idsçš„èŒƒå›´),hidden_size(éšè—å±‚çš„å¤§å°),num_hidden_layers(éšè—å±‚çš„å±‚æ•°)ç­‰."),s("a",u,[n("å‚è€ƒå®˜ç½‘"),e(a)]),n(" BertModel: è¾“å‡ºraw hidden-states, æ²¡æœ‰æœ€ç»ˆçš„softmaxç­‰. æ˜¯"),m,n("çš„å­ç±», å¯ä»¥åƒ"),k,n("ä¸€æ ·æ“ä½œ. "),s("a",h,[n("å‚è€ƒå®˜ç½‘"),e(a)])]),f,s("p",null,[n("BertTokenizer: åœ¨pretrained model vocabularyåˆå§‹åŒ–åˆ¶ä½œtokençš„ç±». "),s("a",v,[n("å‚è€ƒå®˜ç½‘"),e(a)])]),_,s("p",null,[n("å»ºè®®ä½¿ç”¨"),b,n("ç±»å’Œ"),g,n("ç±»æ¥åŠ è½½æ¨¡å‹, è€Œä¸æ˜¯ä½¿ç”¨"),y,n("ç±»æ¥åŠ è½½. "),s("a",q,[n("å‚è€ƒå®˜ç½‘"),e(a)])]),x,w])}const T=t(i,[["render",A],["__file","autoClasses.html.vue"]]);export{T as default};
