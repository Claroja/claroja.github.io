import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as a,c as e,b as s,d as t,a as n}from"./app-nD1Z-e8V.js";const i="/assets/videoplayback.mp4_20250121_172403.756-VeAaMkUf.jpg",c="/assets/videoplayback.mp4_20250121_172425.428-QwRcgDVu.jpg",o="/assets/深度学习第6章.mp4_20250122_084417.003-aAnF_Ood.jpg",p="/assets/videoplayback.mp4_20250121_172437.555-YGs4TyFY.jpg",h="/assets/videoplayback.mp4_20250121_172800.142-zRzcUao-.jpg",m="/assets/videoplayback.mp4_20250121_174627.100-WFbHJl65.jpg",_="/assets/videoplayback.mp4_20250121_174659.359-lq7D7ihE.jpg",r="/assets/videoplayback.mp4_20250121_174752.461-UElEblba.jpg",d="/assets/videoplayback.mp4_20250121_174806.746-3TZln_d_.jpg",g="/assets/videoplayback.mp4_20250121_174913.658-h7dnX9RQ.jpg",u="/assets/videoplayback.mp4_20250121_174851.868-q2suYOIQ.jpg",y="/assets/videoplayback.mp4_20250121_175023.411-luit4JK6.jpg",v="/assets/videoplayback.mp4_20250121_175444.852-QQYTvGa2.jpg",x="/assets/videoplayback.mp4_20250121_175457.089-mPb_Edgs.jpg",w="/assets/videoplayback.mp4_20250121_175625.839-OxigDjvo.jpg",f="/assets/videoplayback.mp4_20250121_175756.943-KAKXTK9Z.jpg",b="/assets/深度学习第6章.mp4_20250122_094909.464-U1uikeif.jpg",z="/assets/videoplayback.mp4_20250121_180218.172-Yrz5I1oa.jpg",M={},k=s("h2",{id:"传统词向量缺陷与attention的解决办法",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#传统词向量缺陷与attention的解决办法","aria-hidden":"true"},"#"),t(" 传统词向量缺陷与attention的解决办法")],-1),Q=s("p",null,"传统的词向量表示方法, 无法解决一词多意的问题, 如下图, mole, 有3中意思:",-1),E=s("ol",null,[s("li",null,"American shrew mole: 美洲鼩鼹(qú yǎn), 其中mole是指鼹鼠."),s("li",null,[t("One mole of carbon dioxide: 一摩尔二氧化碳, 其中mole是指摩尔, 1摩尔是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"6.02"),s("mi",null,"x"),s("mn",null,"1"),s("msup",null,[s("mn",null,"0"),s("mn",null,"23")])]),s("annotation",{encoding:"application/x-tex"},"6.02 x 10^{23}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},"6.02"),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mord"},"1"),s("span",{class:"mord"},[s("span",{class:"mord"},"0"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"23")])])])])])])])])])])])]),s("li",null,"Take a biopsy of the mole:对这颗痣进行活检, 其中mole是指痣")],-1),S=n('<figure><img src="'+i+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>可以看到mole有3中意思, 但是只有一种向量表示. 如下图, mole向量可以看成是3种表示的加权和.</p><figure><img src="'+c+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>attention的解决办法就是根据上下文, 增加一个向量, 改变mole的原本向量表示, 以表达真实的含义.</p><p>如在mole原始向量增加一个向量, 来表示American shrew mole中的mole.</p><figure><img src="'+o+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>又如在mole原始向量增加一个向量, 来表示One mole of carbon dioxide中的mole.</p><figure><img src="'+p+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="注意力机制的实现方法" tabindex="-1"><a class="header-anchor" href="#注意力机制的实现方法" aria-hidden="true">#</a> 注意力机制的实现方法</h2><p>a fluffy(毛茸茸的) blue(蓝色的) creature(生物) roamed(漫步) the verdant(翠绿的) forest(森林).</p>',10),K={class:"katex"},V=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{E}_4")])])],-1),j={class:"katex-html","aria-hidden":"true"},A={class:"base"},Y=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),B={class:"mord"},R={class:"mord accent"},L={class:"vlist-t"},H={class:"vlist-r"},W={class:"vlist",style:{height:"0.9663em"}},D=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),O={style:{top:"-3.2523em"}},T=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),q={class:"accent-body",style:{left:"-0.1522em"}},U={class:"overlay",style:{height:"0.714em",width:"0.471em"}},N={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Z=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),F=[Z],J=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),G={class:"katex"},I=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msubsup",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4"),s("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{E}_4'")])])],-1),P={class:"katex-html","aria-hidden":"true"},X={class:"base"},C=s("span",{class:"strut",style:{height:"1.2144em","vertical-align":"-0.2481em"}},null,-1),$={class:"mord"},ss={class:"mord accent"},ts={class:"vlist-t"},as={class:"vlist-r"},es={class:"vlist",style:{height:"0.9663em"}},ns=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),ls={style:{top:"-3.2523em"}},is=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),cs={class:"accent-body",style:{left:"-0.1522em"}},os={class:"overlay",style:{height:"0.714em",width:"0.471em"}},ps={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},hs=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),ms=[hs],_s=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span>',1),rs=s("figure",null,[s("img",{src:h,alt:"alt text",tabindex:"0",loading:"lazy"}),s("figcaption",null,"alt text")],-1),ds=s("p",null,"这种注意力(attention)机制的实现是通过3个向量QKE来实现的.",-1),gs=s("h3",{id:"query向量",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#query向量","aria-hidden":"true"},"#"),t(" Query向量")],-1),us=s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"W"),s("mi",null,"Q")])]),s("annotation",{encoding:"application/x-tex"},"W_Q")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3283em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"Q")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])],-1),ys={class:"katex"},vs=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{E}_4")])])],-1),xs={class:"katex-html","aria-hidden":"true"},ws={class:"base"},fs=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),bs={class:"mord"},zs={class:"mord accent"},Ms={class:"vlist-t"},ks={class:"vlist-r"},Qs={class:"vlist",style:{height:"0.9663em"}},Es=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),Ss={style:{top:"-3.2523em"}},Ks=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Vs={class:"accent-body",style:{left:"-0.1522em"}},js={class:"overlay",style:{height:"0.714em",width:"0.471em"}},As={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Ys=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),Bs=[Ys],Rs=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),Ls={class:"katex"},Hs=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"Q"),s("mo",null,"⃗")]),s("mn",null,"4")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{Q}_4")])])],-1),Ws={class:"katex-html","aria-hidden":"true"},Ds={class:"base"},Os=s("span",{class:"strut",style:{height:"1.1608em","vertical-align":"-0.1944em"}},null,-1),Ts={class:"mord"},qs={class:"mord accent"},Us={class:"vlist-t vlist-t2"},Ns={class:"vlist-r"},Zs={class:"vlist",style:{height:"0.9663em"}},Fs=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal"},"Q")],-1),Js={style:{top:"-3.2523em"}},Gs=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Is={class:"accent-body",style:{left:"-0.1522em"}},Ps={class:"overlay",style:{height:"0.714em",width:"0.471em"}},Xs={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Cs=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),$s=[Cs],st=s("span",{class:"vlist-s"},"​",-1),tt=s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1944em"}},[s("span")])],-1),at=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),et=s("figure",null,[s("img",{src:m,alt:"alt text",tabindex:"0",loading:"lazy"}),s("figcaption",null,"alt text")],-1),nt=s("p",null,"当然, 每个词语都会得到一个Query向量.",-1),lt=s("figure",null,[s("img",{src:_,alt:"alt text",tabindex:"0",loading:"lazy"}),s("figcaption",null,"alt text")],-1),it=s("h3",{id:"key向量",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#key向量","aria-hidden":"true"},"#"),t(" Key向量")],-1),ct=s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"W"),s("mi",null,"k")])]),s("annotation",{encoding:"application/x-tex"},"W_k")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3361em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])],-1),ot={class:"katex"},pt=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"K"),s("mo",null,"⃗")]),s("mn",null,"2")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{K}_2")])])],-1),ht={class:"katex-html","aria-hidden":"true"},mt={class:"base"},_t=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),rt={class:"mord"},dt={class:"mord accent"},gt={class:"vlist-t"},ut={class:"vlist-r"},yt={class:"vlist",style:{height:"0.9663em"}},vt=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K")],-1),xt={style:{top:"-3.2523em"}},wt=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),ft={class:"accent-body",style:{left:"-0.1799em"}},bt={class:"overlay",style:{height:"0.714em",width:"0.471em"}},zt={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Mt=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),kt=[Mt],Qt=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),Et={class:"katex"},St=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"K"),s("mo",null,"⃗")]),s("mn",null,"3")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{K}_3")])])],-1),Kt={class:"katex-html","aria-hidden":"true"},Vt={class:"base"},jt=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),At={class:"mord"},Yt={class:"mord accent"},Bt={class:"vlist-t"},Rt={class:"vlist-r"},Lt={class:"vlist",style:{height:"0.9663em"}},Ht=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K")],-1),Wt={style:{top:"-3.2523em"}},Dt=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Ot={class:"accent-body",style:{left:"-0.1799em"}},Tt={class:"overlay",style:{height:"0.714em",width:"0.471em"}},qt={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Ut=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),Nt=[Ut],Zt=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),Ft={class:"katex"},Jt=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mover",{accent:"true"},[s("mi",null,"Q"),s("mo",null,"⃗")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{Q}")])])],-1),Gt={class:"katex-html","aria-hidden":"true"},It={class:"base"},Pt=s("span",{class:"strut",style:{height:"1.1608em","vertical-align":"-0.1944em"}},null,-1),Xt={class:"mord accent"},Ct={class:"vlist-t vlist-t2"},$t={class:"vlist-r"},sa={class:"vlist",style:{height:"0.9663em"}},ta=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal"},"Q")],-1),aa={style:{top:"-3.2523em"}},ea=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),na={class:"accent-body",style:{left:"-0.1522em"}},la={class:"overlay",style:{height:"0.714em",width:"0.471em"}},ia={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},ca=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),oa=[ca],pa=s("span",{class:"vlist-s"},"​",-1),ha=s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1944em"}},[s("span")])],-1),ma={class:"katex"},_a=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mover",{accent:"true"},[s("mi",null,"K"),s("mo",null,"⃗")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{K}")])])],-1),ra={class:"katex-html","aria-hidden":"true"},da={class:"base"},ga=s("span",{class:"strut",style:{height:"0.9663em"}},null,-1),ua={class:"mord accent"},ya={class:"vlist-t"},va={class:"vlist-r"},xa={class:"vlist",style:{height:"0.9663em"}},wa=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K")],-1),fa={style:{top:"-3.2523em"}},ba=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),za={class:"accent-body",style:{left:"-0.1799em"}},Ma={class:"overlay",style:{height:"0.714em",width:"0.471em"}},ka={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Qa=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),Ea=[Qa],Sa=n('<figure><img src="'+r+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>可以看到creature(生物)的最相关联的单词fluffy(毛茸茸的)和blue(蓝色的)被匹配到了. <img src="'+d+'" alt="alt text" loading="lazy"></p><p>后续还会对该值进行归一化和softmax处理.</p><figure><img src="'+g+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><figure><img src="'+u+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>总结: Query和Key向量的作用是找到相关联的词, 既是attention.</p><h3 id="value向量" tabindex="-1"><a class="header-anchor" href="#value向量" aria-hidden="true">#</a> Value向量</h3><p>Query向量和Key向量找到了关联词, 还需要Value向量最终生成attention注意力向量.</p><p>如下图creature(生物), 要转移到fluffy(毛茸茸的) creature(生物). <img src="'+y+'" alt="alt text" loading="lazy"></p>',9),Ka=s("p",null,[t("首先取出fluffy(毛茸茸的)的向量表示, 与Value矩阵"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"W"),s("mi",null,"V")])]),s("annotation",{encoding:"application/x-tex"},"W_V")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3283em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.22222em"}},"V")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),t("相乘得到Value向量. "),s("img",{src:v,alt:"alt text",loading:"lazy"})],-1),Va=s("p",null,[t("同理取出blue(蓝色的)的向量表示, 与Value矩阵W_V$相乘得到Value向量. "),s("img",{src:x,alt:"alt text",loading:"lazy"})],-1),ja={class:"katex"},Aa=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"Δ"),s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4")])]),s("annotation",{encoding:"application/x-tex"},"\\Delta \\vec{E}_4")])])],-1),Ya={class:"katex-html","aria-hidden":"true"},Ba={class:"base"},Ra=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),La=s("span",{class:"mord"},"Δ",-1),Ha={class:"mord"},Wa={class:"mord accent"},Da={class:"vlist-t"},Oa={class:"vlist-r"},Ta={class:"vlist",style:{height:"0.9663em"}},qa=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),Ua={style:{top:"-3.2523em"}},Na=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Za={class:"accent-body",style:{left:"-0.1522em"}},Fa={class:"overlay",style:{height:"0.714em",width:"0.471em"}},Ja={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Ga=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),Ia=[Ga],Pa=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),Xa={class:"katex"},Ca=s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4")]),s("mo",null,"+"),s("mi",{mathvariant:"normal"},"Δ"),s("msub",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4")]),s("mo",null,"="),s("msubsup",null,[s("mover",{accent:"true"},[s("mi",null,"E"),s("mo",null,"⃗")]),s("mn",null,"4"),s("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")])]),s("annotation",{encoding:"application/x-tex"},"\\vec{E}_4 + \\Delta \\vec{E}_4 = \\vec{E}_4'")])])],-1),$a={class:"katex-html","aria-hidden":"true"},se={class:"base"},te=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),ae={class:"mord"},ee={class:"mord accent"},ne={class:"vlist-t"},le={class:"vlist-r"},ie={class:"vlist",style:{height:"0.9663em"}},ce=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),oe={style:{top:"-3.2523em"}},pe=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),he={class:"accent-body",style:{left:"-0.1522em"}},me={class:"overlay",style:{height:"0.714em",width:"0.471em"}},_e={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},re=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),de=[re],ge=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),ue=s("span",{class:"mspace",style:{"margin-right":"0.2222em"}},null,-1),ye=s("span",{class:"mbin"},"+",-1),ve=s("span",{class:"mspace",style:{"margin-right":"0.2222em"}},null,-1),xe={class:"base"},we=s("span",{class:"strut",style:{height:"1.1163em","vertical-align":"-0.15em"}},null,-1),fe=s("span",{class:"mord"},"Δ",-1),be={class:"mord"},ze={class:"mord accent"},Me={class:"vlist-t"},ke={class:"vlist-r"},Qe={class:"vlist",style:{height:"0.9663em"}},Ee=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),Se={style:{top:"-3.2523em"}},Ke=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Ve={class:"accent-body",style:{left:"-0.1522em"}},je={class:"overlay",style:{height:"0.714em",width:"0.471em"}},Ae={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Ye=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),Be=[Ye],Re=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span>',1),Le=s("span",{class:"mspace",style:{"margin-right":"0.2778em"}},null,-1),He=s("span",{class:"mrel"},"=",-1),We=s("span",{class:"mspace",style:{"margin-right":"0.2778em"}},null,-1),De={class:"base"},Oe=s("span",{class:"strut",style:{height:"1.2144em","vertical-align":"-0.2481em"}},null,-1),Te={class:"mord"},qe={class:"mord accent"},Ue={class:"vlist-t"},Ne={class:"vlist-r"},Ze={class:"vlist",style:{height:"0.9663em"}},Fe=s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")],-1),Je={style:{top:"-3.2523em"}},Ge=s("span",{class:"pstrut",style:{height:"3em"}},null,-1),Ie={class:"accent-body",style:{left:"-0.1522em"}},Pe={class:"overlay",style:{height:"0.714em",width:"0.471em"}},Xe={xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},Ce=s("path",{d:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`},null,-1),$e=[Ce],sn=n('<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span>',1),tn=n('<figure><img src="'+w+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>Value矩阵可以表示为Value_up和Value_down矩阵.</p><figure><img src="'+f+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="多头机制-multi-headed-attention" tabindex="-1"><a class="header-anchor" href="#多头机制-multi-headed-attention" aria-hidden="true">#</a> 多头机制(Multi-headed attention)</h2><p>上述的QKV向量计算, 会并行96个计算,</p><figure><img src="'+b+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="attention的参数计算" tabindex="-1"><a class="header-anchor" href="#attention的参数计算" aria-hidden="true">#</a> attention的参数计算</h2><figure><img src="'+z+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2><ol><li>https://www.youtube.com/playlist?list=PLZHQObOWTQDNU6R1_67000Dx_ZCJB-3pi</li></ol>',10);function an(en,nn){return a(),e("div",null,[k,Q,E,S,s("p",null,[t("下图中, 上方是每个单词的原始意思是, 下方是根据上下文的学习的新意思. creature(生物)原本是个creature(生物), 用"),s("span",K,[V,s("span",j,[s("span",A,[Y,s("span",B,[s("span",R,[s("span",L,[s("span",H,[s("span",W,[D,s("span",O,[T,s("span",q,[s("span",U,[(a(),e("svg",N,F))])])])])])])]),J])])])]),t("来表示. 当模型结合了它前面的两个修饰词fluffy(毛茸茸的) blue(蓝色的), 则生成了新的creature(生物)表示, 用"),s("span",G,[I,s("span",P,[s("span",X,[C,s("span",$,[s("span",ss,[s("span",ts,[s("span",as,[s("span",es,[ns,s("span",ls,[is,s("span",cs,[s("span",os,[(a(),e("svg",ps,ms))])])])])])])]),_s])])])]),t("表示.")]),rs,ds,gs,s("p",null,[t("Query矩阵"),us,t("乘以creature(生物)的向量表示"),s("span",ys,[vs,s("span",xs,[s("span",ws,[fs,s("span",bs,[s("span",zs,[s("span",Ms,[s("span",ks,[s("span",Qs,[Es,s("span",Ss,[Ks,s("span",Vs,[s("span",js,[(a(),e("svg",As,Bs))])])])])])])]),Rs])])])]),t("得到Query向量"),s("span",Ls,[Hs,s("span",Ws,[s("span",Ds,[Os,s("span",Ts,[s("span",qs,[s("span",Us,[s("span",Ns,[s("span",Zs,[Fs,s("span",Js,[Gs,s("span",Is,[s("span",Ps,[(a(),e("svg",Xs,$s))])])])]),st]),tt])]),at])])])]),t(". Query向量的主要作用是询问周围是否有和自己相关词语, 这个案例中具体是问creature(生物)之前有形容词嘛?")]),et,nt,lt,it,s("p",null,[t("和Query向量一样, 每个单词也会创建一个Key向量, 用来回答Query的询问. 如下图, 通过Key矩阵"),ct,t("乘以单词向量表示, 得到Key向量, fluffy(毛茸茸的)"),s("span",ot,[pt,s("span",ht,[s("span",mt,[_t,s("span",rt,[s("span",dt,[s("span",gt,[s("span",ut,[s("span",yt,[vt,s("span",xt,[wt,s("span",ft,[s("span",bt,[(a(),e("svg",zt,kt))])])])])])])]),Qt])])])]),t(", blue(蓝色的)"),s("span",Et,[St,s("span",Kt,[s("span",Vt,[jt,s("span",At,[s("span",Yt,[s("span",Bt,[s("span",Rt,[s("span",Lt,[Ht,s("span",Wt,[Dt,s("span",Ot,[s("span",Tt,[(a(),e("svg",qt,Nt))])])])])])])]),Zt])])])])]),s("p",null,[t("然后将Query向量和Key向量相乘, 既可以得到词语的相关程度. 如果"),s("span",Ft,[Jt,s("span",Gt,[s("span",It,[Pt,s("span",Xt,[s("span",Ct,[s("span",$t,[s("span",sa,[ta,s("span",aa,[ea,s("span",na,[s("span",la,[(a(),e("svg",ia,oa))])])])]),pa]),ha])])])])]),t("和"),s("span",ma,[_a,s("span",ra,[s("span",da,[ga,s("span",ua,[s("span",ya,[s("span",va,[s("span",xa,[wa,s("span",fa,[ba,s("span",za,[s("span",Ma,[(a(),e("svg",ka,Ea))])])])])])])])])])]),t("相似, 则他们的内积就回越大.")]),Sa,Ka,Va,s("p",null,[t("同理, 计算所有词语的Value向量, 然后和之前的Q向量和K向量计算的结果相乘, 并相加得到"),s("span",ja,[Aa,s("span",Ya,[s("span",Ba,[Ra,La,s("span",Ha,[s("span",Wa,[s("span",Da,[s("span",Oa,[s("span",Ta,[qa,s("span",Ua,[Na,s("span",Za,[s("span",Fa,[(a(),e("svg",Ja,Ia))])])])])])])]),Pa])])])]),t(", 这个就是creature(生物)的注意力转移向量. "),s("span",Xa,[Ca,s("span",$a,[s("span",se,[te,s("span",ae,[s("span",ee,[s("span",ne,[s("span",le,[s("span",ie,[ce,s("span",oe,[pe,s("span",he,[s("span",me,[(a(),e("svg",_e,de))])])])])])])]),ge]),ue,ye,ve]),s("span",xe,[we,fe,s("span",be,[s("span",ze,[s("span",Me,[s("span",ke,[s("span",Qe,[Ee,s("span",Se,[Ke,s("span",Ve,[s("span",je,[(a(),e("svg",Ae,Be))])])])])])])]),Re]),Le,He,We]),s("span",De,[Oe,s("span",Te,[s("span",qe,[s("span",Ue,[s("span",Ne,[s("span",Ze,[Fe,s("span",Je,[Ge,s("span",Ie,[s("span",Pe,[(a(),e("svg",Xe,$e))])])])])])])]),sn])])])])]),tn])}const on=l(M,[["render",an],["__file","2attention.html.vue"]]);export{on as default};
