import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as t,c as e,e as a,a as n,b as s}from"./app-O0xqlHfm.js";const o={},c=a(`<h1 id="样本统计量的性质" tabindex="-1"><a class="header-anchor" href="#样本统计量的性质" aria-hidden="true">#</a> 样本统计量的性质</h1><h2 id="试验" tabindex="-1"><a class="header-anchor" href="#试验" aria-hidden="true">#</a> 试验</h2><p>试验可以在完全相同的条件下进行多次, 这叫<em><strong>重复试验</strong></em>. 1次模拟抽样就相当于1次试验. 反复进行模拟抽样就能增加试验次数.</p><h2 id="样本分布" tabindex="-1"><a class="header-anchor" href="#样本分布" aria-hidden="true">#</a> 样本分布</h2><p>样本分布时样本的统计量所服从的概率分布. 例如, 进行1万次模拟抽样就能得到1万个样本. 我们可以计算这些样本的均值并得到1万个均值, 这1万个样本均值所服从的分布就是样本分布.</p><h2 id="样本均值与总体均值" tabindex="-1"><a class="header-anchor" href="#样本均值与总体均值" aria-hidden="true">#</a> 样本均值与总体均值</h2><h3 id="样本均值与总体均值-1" tabindex="-1"><a class="header-anchor" href="#样本均值与总体均值-1" aria-hidden="true">#</a> 样本均值与总体均值</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token comment">## 用于绘图的库</span>
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt


<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布, 包含无数个值</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>
<span class="token comment">## 存放均值的容器</span>
sample_mean_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token comment">## 抽取 10 个数据并计算均值, 此操作重复 10,000 次</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    sample_mean_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample<span class="token punctuation">)</span>

<span class="token comment">## 样本均值的均值</span>
sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample_mean_array<span class="token punctuation">)</span>  <span class="token comment"># 4.004 和总体的均值接近</span>

<span class="token comment">## 样本均值的标准差</span>
sp<span class="token punctuation">.</span>std<span class="token punctuation">(</span>sample_mean_array<span class="token punctuation">,</span> ddof <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 0.2513 总体的标准差是0.8, 样本的计算的结果很小</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="样本容量越大-样本均值越接近总体均值" tabindex="-1"><a class="header-anchor" href="#样本容量越大-样本均值越接近总体均值" aria-hidden="true">#</a> 样本容量越大, 样本均值越接近总体均值</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt


<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>

<span class="token comment">## 公差是 100 的样本容量, 范围是 10 到 100,010</span>
size_array <span class="token operator">=</span>  np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>
    start <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> stop <span class="token operator">=</span> <span class="token number">100010</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
size_array

<span class="token comment">## 存放样本均值的容器</span>
sample_mean_array_size <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 改变样本容量的同时计算样本均值</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> size_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    sample_mean_array_size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>size_array<span class="token punctuation">,</span> sample_mean_array_size<span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;sample size&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;sample mean&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="不同样本容量所得的样本均值的分布" tabindex="-1"><a class="header-anchor" href="#不同样本容量所得的样本均值的分布" aria-hidden="true">#</a> 不同样本容量所得的样本均值的分布</h3><p>使用小提琴图观察样本容量分别为10,20,30时样本均值的分布. 下面代码按照容量生成了<code>size_*</code>等3个数据帧. 每个数据帧的实验次数都是1万, 所以他们都有1万行. 把这些数据帧连接到一起就得到了<code>sim_result</code>这个3万行的数据帧.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt


<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>

<span class="token comment">## 用于计算样本均值的函数</span>
<span class="token keyword">def</span> <span class="token function">calc_sample_mean</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> n_trial<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample_mean_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n_trial<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n_trial<span class="token punctuation">)</span><span class="token punctuation">:</span>
        sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> size<span class="token punctuation">)</span>
        sample_mean_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample<span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>sample_mean_array<span class="token punctuation">)</span>

np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">## 样本容量 10</span>
size_10 <span class="token operator">=</span> calc_sample_mean<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> n_trial <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">)</span>
size_10_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;sample_mean&quot;</span><span class="token punctuation">:</span>size_10<span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span>       <span class="token punctuation">:</span>np<span class="token punctuation">.</span>tile<span class="token punctuation">(</span><span class="token string">&quot;size 10&quot;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">## 样本容量 20</span>
size_20 <span class="token operator">=</span> calc_sample_mean<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> n_trial <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">)</span>
size_20_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;sample_mean&quot;</span><span class="token punctuation">:</span>size_20<span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span>       <span class="token punctuation">:</span>np<span class="token punctuation">.</span>tile<span class="token punctuation">(</span><span class="token string">&quot;size 20&quot;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">## 样本容量 30</span>
size_30 <span class="token operator">=</span> calc_sample_mean<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> n_trial <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">)</span>
size_30_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;sample_mean&quot;</span><span class="token punctuation">:</span>size_30<span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span>       <span class="token punctuation">:</span>np<span class="token punctuation">.</span>tile<span class="token punctuation">(</span><span class="token string">&quot;size 30&quot;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
fig<span class="token punctuation">,</span>axe<span class="token operator">=</span>plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#绘制小提琴图</span>
axe<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span><span class="token punctuation">[</span>size_10<span class="token punctuation">,</span>size_20<span class="token punctuation">,</span>size_30<span class="token punctuation">]</span><span class="token punctuation">,</span>showmeans<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> showmedians<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
axe<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&quot;小提琴图&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="样本均值的标准差小于总体标准差" tabindex="-1"><a class="header-anchor" href="#样本均值的标准差小于总体标准差" aria-hidden="true">#</a> 样本均值的标准差小于总体标准差</h3><p>重新观察一下:&quot;样本容量越大, 样本均值越集中&quot; 样本容量越大, 样本均值的标准差就越小. 增加样本容量就能得到更集中更可信的样本均值.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt


<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>

<span class="token comment">## 用于计算样本均值的函数</span>
<span class="token keyword">def</span> <span class="token function">calc_sample_mean</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> n_trial<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample_mean_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n_trial<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n_trial<span class="token punctuation">)</span><span class="token punctuation">:</span>
        sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> size<span class="token punctuation">)</span>
        sample_mean_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample<span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>sample_mean_array<span class="token punctuation">)</span>


<span class="token comment">## 公差为 2 的样本容量, 范围是 2 到 100</span>
size_array <span class="token operator">=</span>  np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>
    start <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> stop <span class="token operator">=</span> <span class="token number">102</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
size_array

<span class="token comment">## 存放样本均值的标准差的容器</span>
sample_mean_std_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## 改变样本容量的同时计算样本均值的标准差</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample_mean <span class="token operator">=</span> calc_sample_mean<span class="token punctuation">(</span>size <span class="token operator">=</span>size_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                   n_trial <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
    sample_mean_std_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>std<span class="token punctuation">(</span>sample_mean<span class="token punctuation">,</span> 
                                      ddof <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>


plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>size_array<span class="token punctuation">,</span> sample_mean_std_array<span class="token punctuation">,</span> 
         color <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;sample size&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;mean_std value&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="均值的标准误差" tabindex="-1"><a class="header-anchor" href="#均值的标准误差" aria-hidden="true">#</a> 均值的标准误差</h3><p>样本均值的标准差的理论值可以通过数学公式计算出来, 这个值也叫标准误差(standard error, se), 公式如下:</p>`,18),l=n("p",{class:"katex-block"},[n("span",{class:"katex-display"},[n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[n("semantics",null,[n("mrow",null,[n("mi",null,"S"),n("mi",null,"E"),n("mo",null,"="),n("mfrac",null,[n("mi",null,"σ"),n("msqrt",null,[n("mi",null,"N")])])]),n("annotation",{encoding:"application/x-tex"}," SE = \\frac{\\sigma}{\\sqrt{N}} ")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.6833em"}}),n("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"SE"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),n("span",{class:"mrel"},"="),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),n("span",{class:"base"},[n("span",{class:"strut",style:{height:"2.0376em","vertical-align":"-0.93em"}}),n("span",{class:"mord"},[n("span",{class:"mopen nulldelimiter"}),n("span",{class:"mfrac"},[n("span",{class:"vlist-t vlist-t2"},[n("span",{class:"vlist-r"},[n("span",{class:"vlist",style:{height:"1.1076em"}},[n("span",{style:{top:"-2.1833em"}},[n("span",{class:"pstrut",style:{height:"3em"}}),n("span",{class:"mord"},[n("span",{class:"mord sqrt"},[n("span",{class:"vlist-t vlist-t2"},[n("span",{class:"vlist-r"},[n("span",{class:"vlist",style:{height:"0.9267em"}},[n("span",{class:"svg-align",style:{top:"-3em"}},[n("span",{class:"pstrut",style:{height:"3em"}}),n("span",{class:"mord",style:{"padding-left":"0.833em"}},[n("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])]),n("span",{style:{top:"-2.8867em"}},[n("span",{class:"pstrut",style:{height:"3em"}}),n("span",{class:"hide-tail",style:{"min-width":"0.853em",height:"1.08em"}},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"},[n("path",{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})])])])]),n("span",{class:"vlist-s"},"​")]),n("span",{class:"vlist-r"},[n("span",{class:"vlist",style:{height:"0.1133em"}},[n("span")])])])])])]),n("span",{style:{top:"-3.23em"}},[n("span",{class:"pstrut",style:{height:"3em"}}),n("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),n("span",{style:{top:"-3.677em"}},[n("span",{class:"pstrut",style:{height:"3em"}}),n("span",{class:"mord"},[n("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"σ")])])]),n("span",{class:"vlist-s"},"​")]),n("span",{class:"vlist-r"},[n("span",{class:"vlist",style:{height:"0.93em"}},[n("span")])])])]),n("span",{class:"mclose nulldelimiter"})])])])])])],-1),i=n("p",null,[s("其中, "),n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",null,"σ")]),n("annotation",{encoding:"application/x-tex"},"\\sigma")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.4306em"}}),n("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"σ")])])]),s("是标准差, "),n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",null,"N")]),n("annotation",{encoding:"application/x-tex"},"N")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.6833em"}}),n("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])])]),s("是样本容量. 不难看出, 样本容量越大, 标准误差就越小. 下面使用程序模拟对比一下理论值(标准误差)和实际值(样本均值的标准差)")],-1),u=a(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">## 样本均值的标准差的理论值：标准误差</span>
standard_error <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token operator">/</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>size_array<span class="token punctuation">)</span>
standard_error
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>size_array<span class="token punctuation">,</span> sample_mean_std_array<span class="token punctuation">,</span> 
         color <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>size_array<span class="token punctuation">,</span> standard_error<span class="token punctuation">,</span> 
         color <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span> linestyle <span class="token operator">=</span> <span class="token string">&#39;dotted&#39;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;sample size&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;mean_std value&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到样本平均值的标准误差与理论标准误差基本相等.</p><h2 id="样本方差与总体方差" tabindex="-1"><a class="header-anchor" href="#样本方差与总体方差" aria-hidden="true">#</a> 样本方差与总体方差</h2><p>执行1万次&quot;取出10个数据并求其方差&quot;的试验, 得到样本方差的均值为0.575, 总体方差是0.8的平方0.64.可见这个数据过小的估计了总体方差.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt
<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>
<span class="token comment">## 存放方差值的容器</span>
sample_var_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token comment">## 取出 10 个数据并求其方差, 执行 10,000 次</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    sample_var_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>var<span class="token punctuation">(</span>sample<span class="token punctuation">,</span> ddof <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">## 样本方差的均值</span>
sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>sample_var_array<span class="token punctuation">)</span>  <span class="token comment"># 0.5746</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>采用无偏方差能够消除上述的偏离, 设置<code>ddof=1</code>. 结果为0.639与0.64很接近, 所以无偏方差的均值可以看做总体方差.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">## 存放无偏方差的空间</span>
unbias_var_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token comment">## 进行 10,000 次计算10个数据的无偏方差操作</span>
<span class="token comment">## </span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    unbias_var_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>var<span class="token punctuation">(</span>sample<span class="token punctuation">,</span> ddof <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">## 无偏方差的均值</span>
sp<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>unbias_var_array<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="样本容量越大-其无偏方差越接近总体方差" tabindex="-1"><a class="header-anchor" href="#样本容量越大-其无偏方差越接近总体方差" aria-hidden="true">#</a> 样本容量越大, 其无偏方差越接近总体方差</h3><p>样本容量越大, 无偏方差越接近总体方差.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt
<span class="token comment">## 总体服从均值为 4 标准差为 0.8 的正态分布</span>
population <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> scale <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>
<span class="token comment">## 公差为 100 的样本容量, 范围是 10 到 100,010</span>
size_array <span class="token operator">=</span>  np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>
    start <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> stop <span class="token operator">=</span> <span class="token number">100100</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
size_array
<span class="token comment">## 存放无偏方差的容器</span>
unbias_var_array_size <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">## 在样本容量变化的同时反复计算样本的无偏方差</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>size_array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sample <span class="token operator">=</span> population<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size <span class="token operator">=</span> size_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    unbias_var_array_size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span>var<span class="token punctuation">(</span>sample<span class="token punctuation">,</span> ddof <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>size_array<span class="token punctuation">,</span> unbias_var_array_size<span class="token punctuation">,</span> 
         color <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;sample size&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;unbias var&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="无偏性" tabindex="-1"><a class="header-anchor" href="#无偏性" aria-hidden="true">#</a> 无偏性</h2><p>估计量的期望值相当于真正的参数的特性叫做无偏性</p><h2 id="一致性" tabindex="-1"><a class="header-anchor" href="#一致性" aria-hidden="true">#</a> 一致性</h2><p>样本容量越大, 估计量越接近真正参数的特性称为一致性.</p><h2 id="大数定律" tabindex="-1"><a class="header-anchor" href="#大数定律" aria-hidden="true">#</a> 大数定律</h2><p>样本容量越大, 样本均值越接近总体均值</p><h2 id="中心极限定理" tabindex="-1"><a class="header-anchor" href="#中心极限定理" aria-hidden="true">#</a> 中心极限定理</h2><p>对任意总体分布, 样本容量越大, 随机变量的<code>和</code>的分布越接近正态分布. 例如, 投掷硬币的概率分布为0.5(正面和反面), 这显然不是正态分布. 但投掷1万次硬币得到正面的<code>次数</code>的分布却接近正态分布. 使用程序模拟如下:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt
<span class="token comment">## 样本容量与试验次数</span>
n_size  <span class="token operator">=</span> <span class="token number">10000</span>
n_trial <span class="token operator">=</span> <span class="token number">50000</span>
<span class="token comment">## 正面为 1, 背面为 0</span>
coin <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## 出现正面的次数</span>
count_coin <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n_trial<span class="token punctuation">)</span>
<span class="token comment">## 投 n_size 次硬币, 此实验进行 n_trial 次</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n_trial<span class="token punctuation">)</span><span class="token punctuation">:</span>
    count_coin<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sp<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>
        np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>coin<span class="token punctuation">,</span> size <span class="token operator">=</span> n_size<span class="token punctuation">,</span> replace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ax <span class="token operator">=</span> fig<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> ax<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>count_coin<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
fig<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19),r=[c,l,i,u];function k(d,m){return t(),e("div",null,r)}const y=p(o,[["render",k],["__file","样本统计量的性质.html.vue"]]);export{y as default};
