const n=JSON.parse(`{"key":"v-1c4f1774","path":"/7%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/1flask/flask_jwt/optional.html","title":"optional","lang":"zh-CN","frontmatter":{"description":"optional ## 对于一个路由节点，授权和未授权的均可以访问，但会使用不同的功能， ## 这个时候就要使用jwt_optional()装饰器， ## 至于判断是否是有token的用户，可以根据get_jwt_identity()函数的返回值判断 @app.route('/partially-protected', methods=['GET']) @jwt_optional def partially_protected(): # If no JWT is sent in with the request, get_jwt_identity() # will return None current_user = get_jwt_identity() if current_user: return jsonify(logged_in_as=current_user), 200 else: return jsonify(logged_in_as='anonymous user'), 200","head":[["meta",{"property":"og:url","content":"https://claroja.github.io/7%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/1flask/flask_jwt/optional.html"}],["meta",{"property":"og:site_name","content":"Claroja"}],["meta",{"property":"og:title","content":"optional"}],["meta",{"property":"og:description","content":"optional ## 对于一个路由节点，授权和未授权的均可以访问，但会使用不同的功能， ## 这个时候就要使用jwt_optional()装饰器， ## 至于判断是否是有token的用户，可以根据get_jwt_identity()函数的返回值判断 @app.route('/partially-protected', methods=['GET']) @jwt_optional def partially_protected(): # If no JWT is sent in with the request, get_jwt_identity() # will return None current_user = get_jwt_identity() if current_user: return jsonify(logged_in_as=current_user), 200 else: return jsonify(logged_in_as='anonymous user'), 200"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-24T12:46:58.000Z"}],["meta",{"property":"article:author","content":"claroja"}],["meta",{"property":"article:modified_time","content":"2025-02-24T12:46:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"optional\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-24T12:46:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"claroja\\",\\"url\\":\\"https://claroja.github.io\\"}]}"]]},"headers":[],"git":{"createdTime":1740401218000,"updatedTime":1740401218000,"contributors":[{"name":"Claroja","email":"63183535@qq.com","commits":1}]},"readingTime":{"minutes":0.43,"words":129},"filePathRelative":"7后端开发/1flask/flask_jwt/optional.md","localizedDate":"2025年2月24日","excerpt":"<h1> optional</h1>\\n<div class=\\"language-python line-numbers-mode\\" data-ext=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token comment\\">## 对于一个路由节点，授权和未授权的均可以访问，但会使用不同的功能，</span>\\n<span class=\\"token comment\\">## 这个时候就要使用jwt_optional()装饰器，</span>\\n<span class=\\"token comment\\">## 至于判断是否是有token的用户，可以根据get_jwt_identity()函数的返回值判断</span>\\n<span class=\\"token decorator annotation punctuation\\">@app<span class=\\"token punctuation\\">.</span>route</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'/partially-protected'</span><span class=\\"token punctuation\\">,</span> methods<span class=\\"token operator\\">=</span><span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'GET'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token decorator annotation punctuation\\">@jwt_optional</span>\\n<span class=\\"token keyword\\">def</span> <span class=\\"token function\\">partially_protected</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token comment\\"># If no JWT is sent in with the request, get_jwt_identity()</span>\\n    <span class=\\"token comment\\"># will return None</span>\\n    current_user <span class=\\"token operator\\">=</span> get_jwt_identity<span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">if</span> current_user<span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token keyword\\">return</span> jsonify<span class=\\"token punctuation\\">(</span>logged_in_as<span class=\\"token operator\\">=</span>current_user<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">200</span>\\n    <span class=\\"token keyword\\">else</span><span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token keyword\\">return</span> jsonify<span class=\\"token punctuation\\">(</span>logged_in_as<span class=\\"token operator\\">=</span><span class=\\"token string\\">'anonymous user'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">200</span>\\n\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"王新宇"},"autoDesc":true}`);export{n as data};
