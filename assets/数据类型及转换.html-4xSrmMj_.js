import{_ as n}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as s,c as a,e as t}from"./app-jdLxCr9I.js";const p={},e=t(`<h1 id="数据类型及转换" tabindex="-1"><a class="header-anchor" href="#数据类型及转换" aria-hidden="true">#</a> 数据类型及转换</h1><h2 id="pandas的数据类型" tabindex="-1"><a class="header-anchor" href="#pandas的数据类型" aria-hidden="true">#</a> pandas的数据类型</h2><table><thead><tr><th>类型</th><th>类型对象</th><th>类型创建</th><th>简称</th></tr></thead><tbody><tr><td>数字</td><td>Int64Dtype,...</td><td>直接写</td><td>&#39;Int8&#39;, &#39;Int16&#39;, &#39;Int32&#39;, &#39;Int64&#39;, &#39;UInt8&#39;, &#39;UInt16&#39;, &#39;UInt32&#39;, &#39;UInt64&#39;,float16, float32, float64, float128</td></tr><tr><td>时间</td><td>DatetimeTZDtype</td><td>Timestamp</td><td><code>datetime64[ns, &lt;tz&gt;]</code>,<code>timedelta64[ns]</code></td></tr><tr><td>字符串</td><td>StringDtype</td><td>str</td><td>&#39;string&#39;</td></tr><tr><td>布尔</td><td>BooleanDtype</td><td>bool</td><td>&#39;boolean&#39;</td></tr></tbody></table><h3 id="时间" tabindex="-1"><a class="header-anchor" href="#时间" aria-hidden="true">#</a> 时间</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> datetime


<span class="token comment">## 创建pandas时间格式 datetime64[ns]的四种方法</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token string">&#39;1/1/2018&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># datetime64[ns]</span>
pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># datetime64[ns]</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>np<span class="token punctuation">.</span>datetime64<span class="token punctuation">(</span><span class="token string">&#39;2018-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># datetime64[ns]</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># datetime64[ns]</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2018-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;H&#39;</span><span class="token punctuation">)</span>


<span class="token comment">## 创建pandas时间格式timedelta64[ns]的方法</span>
pd<span class="token punctuation">.</span>to_timedelta<span class="token punctuation">(</span><span class="token string">&#39;1 days&#39;</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token string">&#39;1/1/2018&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> pd<span class="token punctuation">.</span>to_timedelta<span class="token punctuation">(</span><span class="token string">&#39;1 days&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pandas的缺失值" tabindex="-1"><a class="header-anchor" href="#pandas的缺失值" aria-hidden="true">#</a> pandas的缺失值</h2><p>numeric类型缺失值是<code>np.NaN</code>而datetime和timedelt类型的缺失值是<code>pd.NaT</code>,这是两个特殊的值.不能用来做布尔<mark>等值判断</mark>,也即是说<code>np.NaN == np.NaN</code>返回值为False,<code>pd.NaT</code>也是一样的. <code>np.NaN</code>可以转换为<code>None</code>,而<code>pd.NaT</code>不能转换为<code>None</code></p><table><thead><tr><th>类型</th><th>缺失值</th><th>描述</th></tr></thead><tbody><tr><td>int</td><td>np.NaN</td><td>int8, int16, int32, int64</td></tr><tr><td>float</td><td>np.NaN</td><td></td></tr><tr><td>bool</td><td></td><td>bool</td></tr><tr><td>object</td><td></td><td>string</td></tr><tr><td>timedelta</td><td>pd.NaT</td><td></td></tr><tr><td>datatime</td><td>pd.NaT</td><td>datetime64[ns]</td></tr></tbody></table><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1.0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2019-01-02&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">## 缺失值的比较 np.NaN == np.NaN返回是False</span>
a <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 将时间字符串和bool类型转换为数字,其他均转换为NaN</span>
b <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 将时间字符串和bool类型转换为数字,其他均转换为NaN</span>
a<span class="token operator">==</span>b

a<span class="token punctuation">[</span>a<span class="token operator">==</span>np<span class="token punctuation">.</span>NaN<span class="token punctuation">]</span> <span class="token comment"># 索引不到np.NaN</span>
a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span> <span class="token comment"># 能索引到,但是不能赋值为None</span>
a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token boolean">None</span> <span class="token comment"># 能索引到,但是不能赋值为None</span>

a <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token comment"># 可以转换</span>
b <span class="token operator">=</span> b<span class="token punctuation">.</span>where<span class="token punctuation">(</span>b<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
a <span class="token operator">==</span> b  <span class="token comment"># 但是Series里的None不能比较,返回False,这个坑太大了,在Python中None == None 返回是Ture</span>

a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1000</span> <span class="token comment"># 可以转换</span>
a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1000</span> <span class="token comment"># 可以转换</span>
a <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token comment"># 可以转换</span>
b <span class="token operator">=</span> b<span class="token punctuation">.</span>where<span class="token punctuation">(</span>b<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token comment"># 可以转换</span>
a<span class="token operator">==</span>b <span class="token comment"># 可以判断</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="转换" tabindex="-1"><a class="header-anchor" href="#转换" aria-hidden="true">#</a> 转换</h2><p>pandas使用object类型存储字符串,如果一列有多个类型,也是用object存储,这时每个单元格保持自己的类型</p><table><thead><tr><th>数据转换</th><th>描述</th></tr></thead><tbody><tr><td>pd.to_numeric()</td><td>转换为numeric类型(int,float),然后通过<code>astype</code>转换为bool类型</td></tr><tr><td>pd.to_datetime()</td><td>转换为datetime类型(datetime64[ns]),就是时间戳</td></tr><tr><td>pd.to_timedelta()</td><td>转换为timedelta(timedelta64[ns])</td></tr><tr><td>astype(&#39;object&#39;)</td><td>一般不使用此方法, 转换为字符串类型</td></tr></tbody></table><p>使用转换函数可以传递<code>error</code>参数,</p><table><thead><tr><th>参数值</th><th>描述</th></tr></thead><tbody><tr><td>errors=&#39;raise&#39;</td><td>默认,任何转换错误都会终止</td></tr><tr><td>errors=&#39;coerce&#39;</td><td>忽略错误,并将有问题的数据进行如下转换:时间格式转换为<code>pd.NaT</code>,numeric转换为<code>np.nan</code></td></tr><tr><td>errors=&#39;ignore&#39;</td><td>忽略错误,并且不做任何转换</td></tr></tbody></table><ol><li><p><code>to_numeric</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code> <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
 <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
 s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1.0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2019-01-02&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

 <span class="token comment"># to_numeric是在object,时间格式中间做转换,然后再使用astype做numeric类型的内部转换</span>
 pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;raise&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 遇到非数字字符串类型报错,bool类型报错,时间类型转换为int</span>
 pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;ignore&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 只对数字字符串转换,其他类型一律不转换,包含时间类型</span>
 pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 将时间字符串和bool类型转换为数字,其他均转换为NaN</span>

 <span class="token comment"># downcast 可以进一步转化为int或者float</span>
 pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># 默认float64类型</span>
 pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>s<span class="token punctuation">,</span> downcast<span class="token operator">=</span><span class="token string">&#39;signed&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 转换为整型</span>

 <span class="token comment"># astype中的error没有\`coerce\`选项,所以只适合\`numeric\`内部类型的转换,比如将int32转换为int64,int32转换为float32</span>
 <span class="token comment"># 而不适合在object,时间格式之间做转换,</span>
 s<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&#39;int32&#39;</span><span class="token punctuation">,</span>errors<span class="token operator">=</span><span class="token string">&#39;raise&#39;</span><span class="token punctuation">)</span>
 s<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&#39;int32&#39;</span><span class="token punctuation">,</span>errors<span class="token operator">=</span><span class="token string">&#39;ignore&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 对object无效,astype只能对numeric类型生效</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>to_datetime</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1.0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2019-01-02&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;raise&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 只转换时间字符串</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;ignore&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 只转换时间字符串</span>
pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 只转换时间字符串</span>

a <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 只转换时间字符串</span>
b <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">&#39;coerce&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 只转换时间字符串</span>
a <span class="token operator">==</span> b

a<span class="token punctuation">[</span>a<span class="token operator">==</span>pd<span class="token punctuation">.</span>NaT<span class="token punctuation">]</span> <span class="token comment"># 索引不到pd.NaT</span>
a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span> <span class="token comment"># 能索引到,但是不能赋值为None</span>
a<span class="token punctuation">[</span>a<span class="token punctuation">.</span>isna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token boolean">None</span> <span class="token comment"># 能索引到,但是不能赋值为None</span>

a <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>  <span class="token comment"># 不能转换为None</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>  <span class="token comment"># 不能转换为None</span>
a <span class="token operator">==</span> b

a <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>datetime64<span class="token punctuation">(</span><span class="token string">&quot;1949-10-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 转换为默认值</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>datetime64<span class="token punctuation">(</span><span class="token string">&quot;1949-10-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 转换为默认值进行比较</span>
a <span class="token operator">==</span> b

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>to_timedelta</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>pd<span class="token punctuation">.</span>to_timedelta<span class="token punctuation">(</span><span class="token string">&#39;1 days&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>to_string</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1.0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2019-01-02&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># int,bool,None,time都没有转换过来,返回了np.NaN</span>
s <span class="token operator">=</span> s<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&#39;str&#39;</span><span class="token punctuation">)</span><span class="token comment"># 将int,bool,None,time都转换了过来</span>
s<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>to_bool</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1.0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2019-01-02&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>NaN<span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">&#39;2018-01-05&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> s<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&#39;bool&#39;</span><span class="token punctuation">)</span>
s

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>其他类型</th><th>布尔类型</th></tr></thead><tbody><tr><td>非空字符串</td><td>True</td></tr><tr><td>空字符串</td><td>False</td></tr><tr><td>非0数字</td><td>True</td></tr><tr><td>0</td><td>False</td></tr><tr><td><mark>np.NaN</mark></td><td>True</td></tr><tr><td><mark>pd.NaT</mark></td><td>True</td></tr><tr><td>None</td><td>False</td></tr><tr><td>timestamp</td><td>True</td></tr></tbody></table></li></ol><p>https://pandas.pydata.org/pandas-docs/stable/getting_started/basics.html#defaults https://pandas.pydata.org/docs/user_guide/basics.html#dtypes</p>`,16),o=[e];function c(l,i){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","数据类型及转换.html.vue"]]);export{r as default};
