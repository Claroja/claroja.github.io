# tokenization




## 更改爆率
每个怪物对应爆出的物品, 修改`Mir200/Envir/MonItems/*.txt`

利用正则表达式, 修改爆率的分母部分:
search: 1/(\w)\w\w\b
replace: 1/$1


更改:
1. 两位数的统一改成1/10
2. 三,四,五位数的改成两位数

### 更改具体爆率
将两位数以上的爆率, 将至2位数, 且个位抹零

search: 1/(\w)\w{1,}\s*(骨玉权杖|魔杖)
replace: 1/$10 $2




嗜魂法杖|龙牙|骨玉权杖|血饮|魔杖|霓裳羽衣|法神披风|法神头盔|法神项链|恶魔铃铛|生命项链|法神手镯|龙之手镯|思贝儿手镯|法神戒指|紫碧螺|红宝石戒指


逍遥扇|龙纹剑|无极棍|银蛇|天师长袍|天尊道袍|天尊头盔|天尊项链|灵魂项链|天珠项链|天尊手镯|三眼手镯|心灵手镯|天尊戒指|泰坦戒指|铂金戒指


屠龙|怒斩|裁决之杖|井中月|炼狱|天魔神甲|圣战宝甲|圣战头盔|黑铁头盔|圣战项链|绿色项链|圣战手镯|骑士手镯|圣战戒指|力量戒指|龙之戒指


地狱雷光|魔法盾|圣言术|冰咆哮|野蛮冲撞|烈火剑法|心灵启示|困魔咒|群体治疗术|召唤神兽




传送戒指|麻痹戒指|复活戒指|护身戒指

## 设置技能练习经验

UPDATE Magic SET L1Train = 100, L2Train = 100, L3Train =100

## GM命令

### 人物状态操作
命令|描述
--|--
@管理|进入/退出管理员模式(进入模式后不会受到任何角色攻击)
@隐身|进入/退出隐身模式（进入模式后别人看不到自己）
@无敌|进入/退出无敌模式（进入模式后人物不会死亡）
@Kick|人物名将指定人物踢下线
@ReAlive 人物名|将指定人物复活
@Kill|人物名将人物或怪物杀死（杀怪物时需面对怪物）


### 人物调整
命令|描述
--|--
@ChangeJob 人物名 职业(Warr/Wizard/Taos)|调整人物的职业
@ChangeGender 人物名 性别(男/女)|调整人物的性别
@hair 人物名 发型|调整人物的发型
@调整等级 人物名 等级|调整人物的等级
@Level|调整自己的等级
@NGLevel 人物名 内功等级|调整人物的内功等级
@ReHewLevel 人物名 点数(为空则查看)|整/查看人物的转生等级
@AdjustExp 人物名 经验值|整指定人物的经验值
@SetPermission 人物名(0-10)|调整人物的权限等级（可升GM权限）
@Attack 攻击模式|设置自己的攻击模式
@Hunger 人物名 能量值|调整人物的能量值
@PKpoint 人物名|查看人物的PK值
@IncPkPoint 人物名 点数|增加人物的PK值
@FreePK 人物名|清除人物的PK值，同时清零此人英雄的PK值
@BonusPoint 人物名 属性点数|调整人物的属性点数
@DelBonusPoint 人物名|删除人物的属性点数
@RestBonusPoint 人物名|将人物的属性点数重新分配
@ClearMission 人物名|清除人物的任务标志
@ClrPassword 人物名|清除人物仓库/登录密码
@earHame 人物名 配偶名(如果为`无`则清除)|更改人物的配偶名称
@MasterHame 人物名 师徒名(如果为`无`则清除|更改人物的师徒名称
@elUserShop 人物名|删除人物的个人商店
@SetUserShopName 人物名 新商店名称|修改人物的个人商店名称
@删除金币 人物名 数量|减少人物金币数量
@增加金币 人物名 数量|增加人物金币数量
@调整元宝 人物名 控制符(+-=) 数量|调整人物的游戏币数量
@GamePoint 人物名 控制符(+-=) 数量|调整人物的游戏点数量
@ChangeGameDiamond 物名 控制符(+-=) 数量|调整金刚石数量
@ChangeGameGird 物名 控制符(+-=) 数量|调整灵符数量
@调整声望 人物名 控制符(+-=) 点数|调整人物的声望点数
@LuckyPoint 物名 控制符(+-=) 点数|调整人物的幸运点数
@ChangeGameGlory 物名 控制符(+-=) 数量 数量|调整荣誉值数量

### 人物技能
命令|描述
--|--
@增加技能 人物名 技能名 修炼登记(0-3)|增加人物的技能
@删除技能 人物名 技能名（All）|删除人物的技能，Al1代表删除全部技能
@调整技能 人物名 技能名 修炼等级(0-3)|调整人物的技能等级

### 人物移动传送
命令|描述
--|--
@ggo 地图号 X Y|移动到地图指定坐标（小于最大权限受受禁止传送地图列表限制)
@go 地图号|移动到地图随机坐标（小于最大权限受受禁止传送地图列表限制)
@Ting 人物名|随机传送人物
@Recall 人物名|召唤人物到身边
@SuperTing 人物名 范围大小|将指定人物身边范围内的人物随机传送
@MapMove 源地图号 目标地图号|将整个地图中的人物移动到其它地图中
@ReGoto 人物名|跟踪人物



### 物品操作
命令|描述
--|--
@刷 物品名称 数量|制造物品/刷物品
@GiveMine 物品名称 数量 当前持久|制造物品/刷物品
@Supermake 参数详见使用说明|调整自己身上的物品属性
@刀 攻击力 魔法力 道术 准确度|调整身上武器属性
@DeleteItem 人物名 物品名 数量|删除人物身上指定的物品


### 怪物宝宝操作
命令|描述
--|--
@Mob 怪物名称 数量 等级 国家代码 同国家玩家是否攻击 不同国家怪物是否PK 怪物颜色|在身边放置怪物/刷怪
@召宝宝 怪物名称 数量 召唤等级|召唤怪物宝宝
@Mission X Y|设置怪物的集中点（举行怪物攻城用）
@MobPlace X Y 怪物名称 怪物数量|在当前地图指定XY放置怪物（先必须设置怪物的集中点, 放置的怪物大刀不会攻击|
@ClearMon 地图号（*为所有) 怪物名称(*为所有) 掉物品(0,1)|清除地图中的怪物
@祈祷生效 时间|祈祷生效宝宝叛变
@停止叛变 祈祷叛变已停止
@LoyaltyPoint|调整英雄忠诚度（调整点数/100，有效点数0-10000）


### 地图操作
命令|描述
--|--
@Map|显示当前所在地图相关信息
@ShowMapMode|显示地图模式
@SetMapMode 地图号|模式设置地图模式
@MobCount 地图号|查看地图中怪物数量
@HumanLocal 地图号|查询人物IP所在地区（需加载IP地区查询插件）



### 行会操作

@新建行会行会名称掌门人新建一个行会@删除行会行会名称删除一个行会城主行会名称更改城堡所属行会@攻城强行开始/停止攻城战@StartContest开始行会争霸赛@ContestPoint行会名称查看行会争霸赛得分情况@EndContest结束行会争霸赛@Announcement查看行会争霸赛结果



### 信息查看

@Who查看当前服务器在线人数@Total查看所有服务器在线人数@Info人物名看人物信息@ViewWhisper人物名查看指定人物的私聊信息@MobLevel查看身边角色信息@Hum anC ount查看身边人数@S abukW allGol d查看城堡金币数@MachineID取用户的机器码



### 发言禁止设置
@DisableSendMsg 人物名将指定人物加入发言过滤列表，加入列表后自己发的.：@EnableSendMsg将指定人物从发言过滤列表中删除@Di sableSendMsgLi st查看发言过滤列表中的内容@Shutup人物名将指定人物禁言@ReleaseShutup 人物名将指定人物从禁言列表中删除@ShutupLi st查看禁言列表中的内容

### 登录限制封号


@enyAccountLogon登录帐号...将登录帐号加入禁止登录列表，此帐号登录的用户将@elDenyAccountLogon登录帐号从禁止登录帐号列表中删除帐号@ShowDenyAccountLogon显示禁止登录帐号列表@enyCharNameLogon 人物名将人物名加入禁止登录列表，此人物将无法进入游戏@elDenyCharNameLogon 人物名从禁止登录人物列表中删除人物@ShowDenyCharHameLogon显示禁止登录人物名列表@enyIPLogonIP地址是否永将IP加入禁止登录列表，以这些IP登录的用户将无法，@DelDenyIPLogon IP从禁止登录IP列表中删除IP@ShowDenyIPLogon显示禁止登录IP列表@enyIPLocalLogon IP所在地...将IP所在地加入禁止登录列表，以这些IP所在地登录，@elDenyIPLocalLogon IP所在地从禁止登录IP所在地列表中删除IP所在地


@ShowDenyIPLocalLogon显示禁止登录IP所在地列表@DenyMachineIDLogon将指定机器码加入禁止登录列表，以这些机器码登录的用户将无@DelMachineIDLogon 机...从禁止登录机器机列表中删除指定机器码@ShowMachineIDLogon显示禁止登录机器码列表







## 诱惑之光


- Monster.DB
- https://www.21cq.com/mir/Magic.aspx?u=1
- https://www.21cq.com/chuanqi/627.html

































## 更改刷新



## mud2
该文件夹下保存`数据库格式`的`技能`, `怪物`, `物品`的基础信息, 如技能的威力, 技能的消耗魔法值, 技能修炼的经验等.

有些版本是一个`sqlite`数据库`GEEM2.db`, 包含`Magic`, `Monster`, `StdItems`三张表; 而有些是三个数据库`Magic.DB`, `Monster.DB`, `StdItems.DB`.






### 字段说明:

1. `Magic.DB表`
 
    代码(Magic)|代码名称|相关说明
    --|--|--
    0|MagID|技能的魔法ID
    1|MagName|技能的名称
    2|EffectType|使用技能时角色的动作效果
    3|Effect|技能产生的动画效果
    4|Spell|每次需要消耗的魔法值
    5|Power|基本威力
    6|MaxPower|大威力
    7|Defspell|升级后增加的每次耗用魔法值
    8|DefMaxPower|升级后增加的大威力
    9|Job|职业（0=战士，1=法师，2=道士）
    10|NeedL1|1级技能所需达到等级（可设置技能到15级，需要补丁支持）
    11|L1Train|1级技能修炼所需经验（可设置技能到15级，需要补丁支持）
    12|NeedL2|2级技能所需达到等级（可设置技能到15级，需要补丁支持）
    13|L2Train|3级技能修炼所需经验（可设置技能到15级，需要补丁支持）
    14|NeedL3|3级技能所需达到等级（可设置技能到15级，需要补丁支持）
    15|L3Train|3级技能修炼所需经验（可设置技能到15级，需要补丁支持）
    16|MaxTrainLv|技能可以只能修炼几层，如果设置为3，那么技能只能修炼到3级
    17|Delay|技能延迟时间
    18|Descr|备注


2. `Monster.DB`表

    代码(Monster)|代码名称|相关说明
    --|--|--
    0|Name|怪物名称
    1|Race|行动模式及死亡时的效果代码
    2|Racelmg|攻击模式代码
    3|Appr|怪物外观代码
    4|Lvl|怪物等级
    5|Undead|不死系|0-否|1-是
    6|CoolEye|怪物的视线范围，并和等级有关(远距离发现目标，cooleye|设置的数字太高的话，可破隐身戒指效果)
    7|HP|怪物的生命值
    8|MP|怪物的魔法值，注：如果该处数字大于0，那么引擎自动判断怪物被伤害大为设置的数字。
    9|AC|怪物的防御力
    10|MAC|怪物的魔法防御力
    11|DC|怪物的攻击力
    12|DCMax|怪物的大攻击力
    13|MC|怪物的魔法攻击力
    14|SC|怪物的道术攻击力
    15|SPEED|速度
    16|HIT|攻击命中率
    17|WALK_SPD|行走速度间隔
    18|WALKSTEP|行走步伐
    19|WalkWait|行走等待时间
    20|ATTACR-SPD|攻击速度间隔
    21|Exp|杀死怪物后得到的经验值
    22|ExploreItem|怪物死亡后是否支持探索(0=否，1=是)
    23|InLevel|怪物内功等级，等级越高，怪物自身属性会逐渐获得提升
    24|IPExp|杀死怪物后得到的内功经验值，人物须学习了内功，否则无法获得内功经验

3. StdItems.DB表

    代码(StdItems)|代码名称|相关说明
    --|--|--
    0|IDx|装备的序号，不能出现重复序号，引擎物品规则控制将以装备的IDx为准
    1|NAME|装备名称，连击引擎支持20个字节，其它版本的引擎只支持14个字节
    2|Stdmode|物品类型|查看相关设置
    3|Weight|装备或物品的重量
    4|Anicount|物品特殊属性设置
    5|Source|是+强度(负数+神圣)|物品Stdmode等于16的装备Source=1|代表是面巾
    6|Reserved|是隐藏属性:"8"代表人死后会消失，"9"无法取下
    7|Looks|显示装备物品栏里样子和在装备栏里的样子
    8|DuraMax|装备持久度，这里的变量中"1000"表示1个持久度,那么"40000"就表示40个持久度了
    9|Ac|查看相关设置
    10|Ac2|查看相关设置
    11|Mac|查看相关设置
    12|Mac2|查看相关设置
    13|Dc|查看相关设置
    14|Dc2|查看相关设置
    15|Mc|查看相关设置
    16|Mc2|查看相关设置
    17|Sc|查看相关设置
    18|Sc2|查看相关设置
    19|Need|限制种类
    20|NeedLevel|需要等级
    21|Price|价格
    22|Stock|是否为库存品，卧龙名将身上所穿装备，该值越大越难挖
    23|UniqueItem|装备恢复内力值的百分比
    24|Overlap|1或2|表示可以重叠|OverLap=1|重量=重叠数量*单物品重量/10|OverLap=2|重量=重叠数量*单物品重量
    25|ItemType|是对游戏物品进行分类
    26|ItemSet|
    27|Smite|暴击
    28|DropRate|PK目标爆率
    29|IgnDef|忽视目标防御
    30|DamAdd|增加伤害
    31|DamReb|伤害反射
    32|DcRedu|物理伤害减少
    33|McRedu|魔法伤害减少
    34|ExpAdd|经验吸收增加
    35|Bind|装备绑定设置，Bind=0|拾取，穿戴装备都不绑定，Bind=1|拾取后绑定，Bind=2|装备后绑定，Bind=3|拾取后绑定|+|装备后绑定
    36|Shine|设置1-6之间的数字，首饰(1-4之间的数字代表发光)、武器(1-6之间的数字代表发光)、新衣服(1-2之间的数字代表主宰以上内观翅膀效果)
    37|Reference|装备附加说明
    


